"use strict";function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var t=function(e){return function(e,t){return e.reduce((function(e,t){return(e[t.type]=e[t.type]||[]).push(t),e}),{})}((t=e,void 0===n&&(n=new Set),t.filter((function(e){return!n.has(t=e.id)&&n.add(t);var t}))));var t,n};function n(n,r,i,s){var u=new Map(Object.entries(r)),c=new Map(Object.entries(i));return function n(r,i){var o=r.id,l=r.styles,a=r.children,d=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(i[n]=e[n]);return i}(r,["id","styles","children"]),f=[];if(null!=l&&(f=Object.entries(l).map((function(t){var n=t[0],i=t[1];return e({id:i},u.get(i),{styles:r[n+"s"],typeStyles:r.style,type:"STYLE"})}))),null==a||0===a.length)return[[e({id:o,parentId:i,fileId:s},d)],f];var p=a.reduce((function(e,t){var r=e[0],i=e[1],s=n(t,o),u=s[0],c=s[1];return[[].concat(r,u),[].concat(i,u,c)]}),[[],[]]),h=p[0],v=p[1],y=c.get(o);return[[e({id:o,parentId:i,fileId:s},d,{},y&&y,{children:h,shortcuts:t(v)})],v]}(n,"0:0")}exports.processFile=function(e,r){var i=e.name,s=e.lastModified,u=e.thumbnailUrl,c=e.version,o=n(e.document,e.styles,e.components,r);return{fileId:r,name:i,lastModified:s,thumbnailUrl:u,version:c,children:o[0][0].children,shortcuts:t(o[1])}},exports.processNodes=n;
//# sourceMappingURL=figma-transformer.cjs.production.min.js.map
